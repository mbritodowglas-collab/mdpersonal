---
layout: default
title: Blog
body_class: blog-page   # <-- escopo
description: "{{ site.meta_descriptions.blog }}"
---

<section class="blog-header">
  <h1>Artigos sobre Treino, Mente e Gestão Fitness</h1>
  <p>Conteúdos práticos sobre treino, neurociência, nutrição e gestão de academias — base dos vídeos do canal.</p>
</section>

<div class="blog-layout">
  <!-- LATERAL (fixa) -->
  <aside class="blog-sidebar">
    <h3>Categorias</h3>
    <nav class="blog-filtros-vertical">
      <button data-filter="" class="on">Todos</button>
      {%- assign cats = site.categories | sort_natural -%}
      {%- for c in cats -%}
        {%- assign cat_name = c[0] -%}
        <button data-filter="{{ cat_name | downcase }}">{{ cat_name }}</button>
      {%- endfor -%}
    </nav>
  </aside>

  <!-- COLUNA PRINCIPAL -->
  <section class="blog-lista">
    {%- assign list = paginator.posts | default: site.posts -%}

    <!-- 3 Destaques (cards maiores) -->
    <div class="blog-destaques">
      {%- for post in list limit:3 -%}
        <a class="dst-item" href="{{ post.url | relative_url }}" data-cats="{{ post.categories | join:' ' | downcase }}">
          <div class="dst-thumb" style="background-image:url('{{ post.cover | default: post.image | default: '/assets/img/cover-default.jpg' | relative_url }}')"></div>
          <div class="dst-info">
            <span class="cat">{{ post.categories[0] | default: 'Blog' }}</span>
            <h2>{{ post.title }}</h2>
            <p>{{ post.excerpt | strip_html | truncate: 140 }}</p>
          </div>
        </a>
      {%- endfor -%}
    </div>

    <!-- Lista compacta dos demais (até completar 10 no paginator) -->
    <div class="cards">
      {%- for post in list offset:3 -%}
        <article class="card" data-cats="{{ post.categories | join:' ' | downcase }}">
          <a href="{{ post.url | relative_url }}">
            <div class="thumb" style="background-image:url('{{ post.cover | default: post.image | default: '/assets/img/cover-default.jpg' | relative_url }}')"></div>
            <div class="card-body">
              <div class="meta">
                <span class="cat">{{ post.categories[0] | default: 'Blog' }}</span>
                <span class="date">{{ post.date | date: "%d %b %Y" }}</span>
              </div>
              <h3>{{ post.title }}</h3>
              <p class="exc">{{ post.excerpt | strip_html | truncate: 140 }}</p>
              <span class="ler">Ler artigo →</span>
            </div>
          </a>
        </article>
      {%- endfor -%}
    </div>

    <!-- Paginação: apenas seta para “mais antigos” -->
    <div class="blog-pager">
      {%- if paginator.next_page -%}
        <a class="pager-next" href="{{ paginator.next_page_path | relative_url }}" aria-label="Artigos mais antigos">Mais antigos →</a>
      {%- endif -%}
    </div>
  </section>
</div>

<script>
(function(){
  // filtro por categoria (client-side)
  const norm = s => (s||'').normalize('NFD').replace(/\p{Diacritic}/gu,'').toLowerCase().trim();
  const btns  = Array.from(document.querySelectorAll('.blog-filtros-vertical [data-filter]'));
  const items = Array.from(document.querySelectorAll('[data-cats]'));

  function applyFilter(slug){
    const f = norm(slug);
    items.forEach(el=>{
      const cats = norm(el.dataset.cats||'');
      el.style.display = (!f || cats.includes(f)) ? '' : 'none';
    });
    // se filtrou, some com a paginação (evita confusão)
    const pager = document.querySelector('.blog-pager');
    if (pager){ pager.style.display = f ? 'none' : ''; }
  }

  btns.forEach(b=>{
    b.addEventListener('click', ()=>{
      btns.forEach(x=>x.classList.remove('on'));
      b.classList.add('on');
      applyFilter(b.dataset.filter);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  });

  applyFilter('');
})();
</script>
